{"version":3,"file":"metadatanotice.min.js","sources":["../src/metadatanotice.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * AMD module for editing metadata\n * @module     mod_sharedresource/view\n * @package    blocks\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n// jshint unused: true, undef:true\ndefine(['jquery', 'core/log'], function ($, log) {\n\n    var metadatanotice = {\n\n        init: function() {\n\n            $('.mtd-tab').bind('click', this.switch_tab);\n            $('.mtd-tab a').bind('click', function(e) { e.preventDefault(); });\n\n            $.proxy(metadatanotice.switch_tab, $('#id-menu-1').get())();\n\n            log.debug('AMD Mod sharedresource metadata notice initialized');\n        },\n\n        switch_tab: function() {\n\n            var that = $(this);\n            if (!that.attr('id')) {\n                that = that.parent();\n            }\n\n            var menuid = that.attr('id');\n\n            var regexp = /id-menu-([^-]+)$/;\n            var matches = that.attr('id').match(regexp);\n            var tabid = 'id-tab-' + matches[1];\n\n            $('.mtd-tab').removeClass('here');\n            $('.mtd-tab').removeClass('current');\n            $('#' + menuid).addClass('here');\n            $('#' + menuid).addClass('current');\n\n            $('.mtd-content').removeClass('active');\n            $('.mtd-content').removeClass('on');\n            $('.mtd-content').addClass('off');\n            $('#' + tabid).addClass('active');\n            $('#' + tabid).removeClass('off');\n            $('#' + tabid).addClass('on');\n        },\n    };\n\n    return metadatanotice;\n});"],"names":["define","$","log","metadatanotice","init","bind","this","switch_tab","e","preventDefault","proxy","get","debug","that","attr","parent","menuid","tabid","match","removeClass","addClass"],"mappings":";;;;;;AAsBAA,2CAAO,CAAC,SAAU,aAAa,SAAUC,EAAGC,KAExC,IAAIC,eAAiB,CAEjBC,KAAM,WAEFH,EAAE,YAAYI,KAAK,QAASC,KAAKC,YACjCN,EAAE,cAAcI,KAAK,SAAS,SAASG,GAAKA,EAAEC,oBAE9CR,EAAES,MAAMP,eAAeI,WAAYN,EAAE,cAAcU,MAAnDV,GAEAC,IAAIU,MAAM,uDAGdL,WAAY,WAER,IAAIM,KAAOZ,EAAEK,MACRO,KAAKC,KAAK,QACXD,KAAOA,KAAKE,UAGhB,IAAIC,OAASH,KAAKC,KAAK,MAInBG,MAAQ,UADEJ,KAAKC,KAAK,MAAMI,MADjB,oBAEmB,GAEhCjB,EAAE,YAAYkB,YAAY,QAC1BlB,EAAE,YAAYkB,YAAY,WAC1BlB,EAAE,IAAMe,QAAQI,SAAS,QACzBnB,EAAE,IAAMe,QAAQI,SAAS,WAEzBnB,EAAE,gBAAgBkB,YAAY,UAC9BlB,EAAE,gBAAgBkB,YAAY,MAC9BlB,EAAE,gBAAgBmB,SAAS,OAC3BnB,EAAE,IAAMgB,OAAOG,SAAS,UACxBnB,EAAE,IAAMgB,OAAOE,YAAY,OAC3BlB,EAAE,IAAMgB,OAAOG,SAAS,QAIhC,OAAOjB,cACX"}